{"ast":null,"code":"import _regeneratorRuntime from\"/Users/shariati/Desktop/Projects/demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/shariati/Desktop/Projects/demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/shariati/Desktop/Projects/demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/shariati/Desktop/Projects/demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/shariati/Desktop/Projects/demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/shariati/Desktop/Projects/demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Axios from'axios';import{Map,CircleMarker,TileLayer}from'react-leaflet';import{Container,Row,Col,Card,Alert}from'react-bootstrap';import NumberFormat from'react-number-format';import\"leaflet/dist/leaflet.css\";var colors={confirmed:'hsla(27, 100%, 51%, 1)',recovered:'hsla(91, 100%, 51%, 1)',deaths:'hsla(0, 100%, 51%, 1)'};var LandingPage=/*#__PURE__*/function(_Component){_inherits(LandingPage,_Component);var _super=_createSuper(LandingPage);function LandingPage(){var _this;_classCallCheck(this,LandingPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={confirmed:0,recovered:0,deaths:0,total:0,incidents:[],width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth};_this.updateDimensions=function(){var width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;_this.setState({width:width});};return _this;}_createClass(LandingPage,[{key:\"componentDidMount\",value:function componentDidMount(){this.getData();window.addEventListener('resize',this.updateDimensions);}},{key:\"getData\",value:function(){var _getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,totalDeaths;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get(\"https://covid19.mathdro.id/api/deaths\");case 2:res=_context.sent;_context.next=5;return Axios.get(\"https://covid19.mathdro.id/api\");case 5:totalDeaths=_context.sent;this.setState({incidents:res.data.filter(function(row){return row.lat!==null;}),total:totalDeaths.data.deaths.value,confirmed:totalDeaths.data.confirmed.value,recovered:totalDeaths.data.recovered.value,deaths:totalDeaths.data.deaths.value});console.log(this.state.incidents);case 8:case\"end\":return _context.stop();}}},_callee,this);}));function getData(){return _getData.apply(this,arguments);}return getData;}()},{key:\"render\",value:function render(){var _this$state=this.state,confirmed=_this$state.confirmed,recovered=_this$state.recovered,deaths=_this$state.deaths,total=_this$state.total,incidents=_this$state.incidents,width=_this$state.width;return/*#__PURE__*/React.createElement(\"div\",{className:\"mid\"},/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Row,{className:\"justify-content-md-center\"},/*#__PURE__*/React.createElement(Col,{xs:\"12\",lg:\"8\"},/*#__PURE__*/React.createElement(Card,{className:\"shadow\",style:{marginBottom:'1rem',padding:'1rem',border:'none'}},/*#__PURE__*/React.createElement(Map,{width:width>980?960:width-80,zoom:2,center:[20.505,-0.09],minZoom:2},/*#__PURE__*/React.createElement(TileLayer,{url:\"https://{s}.tile.osm.org/{z}/{x}/{y}.png\"}),incidents.map(function(city,i){return/*#__PURE__*/React.createElement(CircleMarker,{key:i,center:[city.lat,city.long],readius:20*Math.log(city.deaths/total),fillOpacity:0.5,fillColor:\"red\",stroke:false});})))))),/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Row,{className:\"justify-content-md-center\"},/*#__PURE__*/React.createElement(Col,{xs:true,lg:\"8\"},/*#__PURE__*/React.createElement(Card,{className:\"shadow-sm\",style:{marginBottom:'1rem',padding:'1rem',border:'none'}},/*#__PURE__*/React.createElement(Row,{className:\"justify-content-md-center\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Alert,{style:{backgroundColor:colors.confirmed}},/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(NumberFormat,{value:confirmed,displayType:'text',thousandSeparator:true})),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Accomulative\"),/*#__PURE__*/React.createElement(\"i\",null,\" as of today\")))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Alert,{style:{backgroundColor:colors.recovered}},/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(NumberFormat,{value:recovered,displayType:'text',thousandSeparator:true})),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,Math.round(recovered/confirmed*100)),/*#__PURE__*/React.createElement(\"i\",null,\"% Recovery\")))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Alert,{style:{backgroundColor:colors.deaths,color:'#FFFFFF'}},/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(NumberFormat,{value:deaths,displayType:'text',thousandSeparator:true})),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,Math.round(deaths/confirmed*100)),/*#__PURE__*/React.createElement(\"i\",null,\"% Deaths\"))))))))));}}]);return LandingPage;}(Component);export default LandingPage;","map":{"version":3,"sources":["/Users/shariati/Desktop/Projects/demo/src/components/landingPage.jsx"],"names":["React","Component","Axios","Map","CircleMarker","TileLayer","Container","Row","Col","Card","Alert","NumberFormat","colors","confirmed","recovered","deaths","LandingPage","state","total","incidents","width","window","innerWidth","document","documentElement","clientWidth","body","updateDimensions","setState","getData","addEventListener","get","res","totalDeaths","data","filter","row","lat","value","console","log","marginBottom","padding","border","map","city","i","long","Math","backgroundColor","round","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Axios from 'axios';\nimport { Map, CircleMarker,TileLayer} from 'react-leaflet';\nimport {Container,Row,Col, Card, Alert} from 'react-bootstrap';\nimport NumberFormat from 'react-number-format';\nimport \"leaflet/dist/leaflet.css\";\n\nconst colors = {\n    confirmed: 'hsla(27, 100%, 51%, 1)',\n    recovered: 'hsla(91, 100%, 51%, 1)',\n    deaths: 'hsla(0, 100%, 51%, 1)',\n  };\nclass LandingPage extends Component{\n    state={\n        confirmed:0,\n        recovered:0,\n        deaths:0,\n        total:0,\n        incidents:[],\n        width:\n        window.innerWidth ||\n        document.documentElement.clientWidth ||\n        document.body.clientWidth\n      }\n    \n      componentDidMount(){\n        this.getData();\n        window.addEventListener('resize',this.updateDimensions);\n      }\n      updateDimensions = ()=>{\n        const width = \n        window.innerWidth ||\n        document.documentElement.clientWidth ||\n        document.body.clientWidth;\n\n        this.setState({width});\n    }\n      async getData(){\n      const res=await Axios.get(\"https://covid19.mathdro.id/api/deaths\");\n      const totalDeaths=await Axios.get(\"https://covid19.mathdro.id/api\");\n      this.setState({\n        incidents:res.data.filter(row=> row.lat !== null),\n        total:totalDeaths.data.deaths.value,\n        confirmed:totalDeaths.data.confirmed.value,\n        recovered:totalDeaths.data.recovered.value,\n        deaths:totalDeaths.data.deaths.value\n      })\n      console.log(this.state.incidents);\n      }\n    render(){\n        const {\n            confirmed,\n            recovered,\n            deaths,\n            total,\n            incidents,\n            width\n        } = this.state;\n        return(\n            <div className=\"mid\">\n                <Container fluid>\n                    <Row className=\"justify-content-md-center\">\n                        <Col xs=\"12\" lg=\"8\">\n                        <Card className=\"shadow\" style={{marginBottom:'1rem',padding:'1rem',border:'none'}}>\n                            <Map\n                                width={ width > 980 ? 960 : width - 80 }\n                                zoom={2}\n                                center={[20.505,-0.09]}\n                                minZoom={2}\n                                >\n                                <TileLayer url=\"https://{s}.tile.osm.org/{z}/{x}/{y}.png\" />\n                                \n                                {\n                                incidents.map((city,i) => {\n                                    return (\n                                    <CircleMarker \n                                        key={i} \n                                        center={[city.lat, city.long]} \n                                        readius={20 * Math.log(city.deaths / total)}\n                                        fillOpacity={0.5}\n                                        fillColor={\"red\"}\n                                        stroke={false}\n                                    />\n                                    )\n                                })\n                                }\n                            </Map>\n                        </Card>     \n                        </Col>\n                    </Row>\n                </Container>\n                <Container fluid>\n                    <Row className=\"justify-content-md-center\">\n                        <Col xs lg=\"8\">\n                        <Card className=\"shadow-sm\" style={{marginBottom:'1rem',padding:'1rem',border:'none'}}>\n                            <Row className=\"justify-content-md-center\">\n                                <Col>\n                                    <Alert style={{backgroundColor:colors.confirmed}}>\n                                    <h4>\n                                    <NumberFormat \n                                        value={confirmed} \n                                        displayType={'text'} \n                                        thousandSeparator={true} \n                                    />  \n                                    </h4>  \n                                    <p><b>Accomulative</b><i> as of today</i></p> \n                                    </Alert>\n                                </Col>\n                                <Col>\n                                    <Alert style={{backgroundColor:colors.recovered}}>\n                                    <h4>\n                                    <NumberFormat \n                                        value={recovered} \n                                        displayType={'text'} \n                                        thousandSeparator={true} \n                                    />\n                                    </h4>\n                                    <p><b>{Math.round((recovered / confirmed) * 100)}</b><i>% Recovery</i></p>  \n                                    </Alert>\n                                </Col>\n                                <Col>\n                                    <Alert style={{backgroundColor:colors.deaths,color:'#FFFFFF'}}>\n                                    <h4>\n                                    <NumberFormat \n                                        value={deaths} \n                                        displayType={'text'} \n                                        thousandSeparator={true} \n                                    />\n                                    </h4>\n                                    <p><b>{Math.round((deaths / confirmed) * 100)}</b><i>% Deaths</i></p>   \n                                    </Alert>\n                                </Col>\n                            </Row>\n                        </Card>     \n                        </Col>\n                    </Row>\n                </Container>\n            </div>\n        )\n    }\n}\nexport default LandingPage;"]},"metadata":{},"sourceType":"module"}